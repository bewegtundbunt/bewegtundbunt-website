<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>bewegt & bunt â€“ Generator</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
:root{
  --bg:#eef2f1;
  --card:#ffffff;
  --forest:#2D4A3E;
  --mint:#5AC08E;
  --border:#e5e7eb;
  --shadow:0 14px 45px rgba(0,0,0,.08);
  --radius:18px;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
  background:linear-gradient(180deg,#f3f6f5,var(--bg));
  padding:40px 20px;
  color:#1a1a1a;
}

.container{
  max-width:900px;
  margin:0 auto;
}

.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:40px;
}

h1{
  margin:0 0 10px 0;
  font-size:32px;
}

.sub{
  color:#64748b;
  margin-bottom:30px;
}

button{
  background:var(--forest);
  color:white;
  border:none;
  padding:14px 22px;
  border-radius:12px;
  font-size:16px;
  cursor:pointer;
  transition:.2s;
}

button:hover{
  opacity:.9;
}

.logout{
  background:#ccc;
  color:#111;
  margin-left:10px;
}

.result{
  margin-top:30px;
  padding:20px;
  border:1px solid var(--border);
  border-radius:12px;
  background:#fafafa;
}
</style>
</head>

<body>

<div class="container">
  <div class="card">
    <h1>Bewegungseinheit generieren</h1>
    <p class="sub">Erstelle eine neue strukturierte Bewegungseinheit fÃ¼r deine Gruppe.</p>

    <button onclick="generateSession()">Neue Einheit generieren</button>
    <button class="logout" onclick="logout()">Abmelden</button>

    <div id="result" class="result" style="display:none;"></div>
  </div>
</div>

<script>
// ðŸ” Supabase Daten hier eintragen
const SUPABASE_URL = "https://DEIN-PROJEKT.supabase.co";
const SUPABASE_ANON_KEY = "DEIN-ANON-KEY";

const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

// ðŸ”Ž Session prÃ¼fen
async function checkAuth() {
  const { data } = await supabase.auth.getSession();
  if (!data.session) {
    window.location.href = "login.html";
  }
}

checkAuth();

// ðŸš€ Generator-Funktion (Beispiel)
async function generateSession() {
  const resultBox = document.getElementById("result");
  resultBox.style.display = "block";
  resultBox.innerHTML = "Bewegungseinheit wird generiert...";

  // Hier kannst du spÃ¤ter deine RPC-Funktion anbinden
  setTimeout(() => {
    resultBox.innerHTML = `
      <h3>Beispiel-Einheit</h3>
      <p><strong>Thema:</strong> Koordination & Teamarbeit</p>
      <p><strong>Material:</strong> TÃ¼cher, Kegel</p>
      <p><strong>Dauer:</strong> 30 Minuten</p>
      <ul>
        <li>AufwÃ¤rmen: Tuch-Fangen</li>
        <li>Hauptteil: Hindernis-Parcours</li>
        <li>Abschluss: Entspannungsrunde</li>
      </ul>
    `;
  }, 1000);
}

// ðŸ”“ Logout
async function logout() {
  await supabase.auth.signOut();
  window.location.href = "login.html";
}
</script>

</body>
</html>
